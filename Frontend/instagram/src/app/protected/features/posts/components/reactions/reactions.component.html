<div class="reactions-wrapper">
  <button class="react-button" [matMenuTriggerFor]="menu">
    <span *ngIf="currentUserReaction" class="emoji">{{getReactionIcon(currentUserReaction)}}</span>
    <span *ngIf="currentUserReaction; else addReaction">{{currentUserReaction}}</span>
    <ng-template #addReaction>
      <mat-icon class="account-icon">add_reaction</mat-icon>
      Add reaction
    </ng-template>
  </button>


  <div class="reaction-summary">
    <div *ngFor="let reaction of getFilteredReactionsData()" class="reaction-item">
      <span class="emoji">{{reaction.icon}}</span>
      <span>{{reaction.count}}</span>
    </div>
  </div>
</div>

<mat-menu class="reactions-box" #menu="matMenu">
  <div class="reactions">
    <div
      class="reaction-item"
      *ngFor="let reaction of reactionsData"
      (click)="react(reaction.name)"
      [ngClass]="{'selected-reaction': currentUserReaction === reaction.name}">
      <button mat-icon-button matTooltip="{{reaction.name}}">
        <span class="emoji">{{reaction.icon}}</span>
      </button>
    </div>
  </div>
</mat-menu>
